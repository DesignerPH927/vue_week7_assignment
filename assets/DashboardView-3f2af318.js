import{_ as y,r as v,o as p,c as g,a as l,w as m,b as s,d as f,e as P,F as k,f as q,n as F,t as S,g as K,s as z,h as W,i as j}from"./index-23ac5f93.js";import{r as Y,a as G,b as Q,c as J}from"./component-functions-a1051e2c.js";import{s as X}from"./statusStore-19b35a70.js";const Z="/assets/帝爺公-ab1fa37e.png";const{VITE_URL:tt}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"zack_p",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},et={data(){return{isLoading:!1}},methods:{logout(){this.isLoading=!0,this.$http.post(`${tt}/logout`).then(()=>{this.isLoading=!1,this.$router.push("/")})}}},st=s("img",{src:Z,alt:"",class:"logout animate__animated animate__lightSpeedOutLeft"},null,-1),at={class:"navbar navbar-expand-lg bg-body-tertiary navbar-dark bg-dark"},ot={class:"container-fluid"},nt=s("a",{class:"navbar-brand fs-3 fw-bold",href:"#"},[s("i",{class:"fa-solid fa-beat text-warning",style:{"--fa-beat-scale":"2.0"}},"鼓"),f(" 之鄉 ")],-1),it=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),rt={class:"collapse navbar-collapse",id:"navbarText"},ct={class:"navbar-nav me-auto mb-2 mb-lg-0"},lt={class:"nav-item"},ut={class:"nav-item"},_t={class:"nav-item"},dt={class:"nav-item"},ht={class:"nav-item"},mt={class:"navbar-nav"};function ft(t,e,a,o,c,d){const u=v("VueLoading"),i=v("router-link");return p(),g(k,null,[l(u,{active:c.isLoading},{default:m(()=>[st]),_:1},8,["active"]),s("nav",at,[s("div",ot,[nt,it,s("div",rt,[s("ul",ct,[s("li",lt,[l(i,{to:"/admin/products",class:"nav-link active"},{default:m(()=>[f("產品")]),_:1})]),s("li",ut,[l(i,{to:"/admin/orders",class:"nav-link"},{default:m(()=>[f("訂單")]),_:1})]),s("li",_t,[l(i,{to:"/admin/coupons",class:"nav-link"},{default:m(()=>[f("優惠卷")]),_:1})]),s("li",dt,[l(i,{to:"/admin/article",class:"nav-link"},{default:m(()=>[f("貼文")]),_:1})]),s("li",ht,[s("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=P((...h)=>d.logout&&d.logout(...h),["prevent"]))},"登出")])]),s("span",mt,[l(i,{to:"/user/articles",class:"nav-link"},{default:m(()=>[f("Blog")]),_:1}),l(i,{to:"/user/cart",class:"nav-link"},{default:m(()=>[f("購物車")]),_:1})])])])])],64)}const pt=y(et,[["render",ft]]);function vt(t){return{all:t=t||new Map,on:function(e,a){var o=t.get(e);o?o.push(a):t.set(e,[a])},off:function(e,a){var o=t.get(e);o&&(a?o.splice(o.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var o=t.get(e);o&&o.slice().map(function(c){c(a)}),(o=t.get("*"))&&o.slice().map(function(c){c(e,a)})}}}const gt=vt();var L={},bt={get exports(){return L},set exports(t){L=t}};/*!
  * Bootstrap toast.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(a,o){t.exports=o(Y(),G(),Q(),J())})(q,function(a,o,c,d){const u=E=>E&&typeof E=="object"&&"default"in E?E:{default:E},i=u(o),h=u(c),V="toast",_=".bs.toast",x=`mouseover${_}`,I=`mouseout${_}`,D=`focusin${_}`,A=`focusout${_}`,C=`hide${_}`,M=`hidden${_}`,O=`show${_}`,H=`shown${_}`,U="fade",w="hide",$="show",T="showing",R={animation:"boolean",autohide:"boolean",delay:"number"},B={animation:!0,autohide:!0,delay:5e3};class b extends h.default{constructor(n,r){super(n,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return B}static get DefaultType(){return R}static get NAME(){return V}show(){if(i.default.trigger(this._element,O).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(U);const r=()=>{this._element.classList.remove(T),i.default.trigger(this._element,H),this._maybeScheduleHide()};this._element.classList.remove(w),a.reflow(this._element),this._element.classList.add($,T),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||i.default.trigger(this._element,C).defaultPrevented)return;const r=()=>{this._element.classList.add(w),this._element.classList.remove(T,$),i.default.trigger(this._element,M)};this._element.classList.add(T),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($),super.dispose()}isShown(){return this._element.classList.contains($)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,r){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const N=n.relatedTarget;this._element===N||this._element.contains(N)||this._maybeScheduleHide()}_setListeners(){i.default.on(this._element,x,n=>this._onInteraction(n,!0)),i.default.on(this._element,I,n=>this._onInteraction(n,!1)),i.default.on(this._element,D,n=>this._onInteraction(n,!0)),i.default.on(this._element,A,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const r=b.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof r[n]>"u")throw new TypeError(`No method named "${n}"`);r[n](this)}})}}return d.enableDismissTrigger(b),a.defineJQueryPlugin(b),b})})(bt);const Et=L,$t={data(){return{toast:{}}},props:["msg"],mounted(){new Et(this.$refs.toast,{delay:6e3}).show()}},Tt={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},yt={class:"toast-header"},Lt={class:"me-auto"},kt=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),wt={key:0,class:"toast-body"};function Nt(t,e,a,o,c,d){return p(),g("div",Tt,[s("div",yt,[s("span",{class:F([`bg-${a.msg.style}`,"p-2 rounded-2 me-2 d-inline-block"])},null,2),s("strong",Lt,S(a.msg.title),1),kt]),a.msg.content?(p(),g("div",wt,S(a.msg.content),1)):K("",!0)],512)}const St=y($t,[["render",Nt]]),Vt={components:{Toast:St},setup(){const t=X(),{messages:e}=z(t);return{messages:e}}},xt={class:"toast-container position-absolute pe-3 top-0 end-0"};function It(t,e,a,o,c,d){const u=v("Toast");return p(),g("div",xt,[(p(!0),g(k,null,W(o.messages,(i,h)=>(p(),j(u,{key:h,msg:i},null,8,["msg"]))),128))])}const Dt=y(Vt,[["render",It]]),{VITE_URL:At}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"zack_p",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},Ct={components:{Navbar:pt,ToastMessages:Dt},provide(){return{emitter:gt}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)zack0313\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.$http.post(`${At}/api/user/check`).then(e=>{e.data.success&&this.$swal({icon:"success",title:"驗證成功",showConfirmButton:!1,timer:1e3})}).catch(e=>{e.response.data.success||(this.$swal({icon:"error",title:"驗證失敗"}),this.$router.push("/"))})}},Mt={class:"container-fluid position-relative mt-3"};function Ot(t,e,a,o,c,d){const u=v("Navbar"),i=v("ToastMessages"),h=v("router-view");return p(),g(k,null,[l(u),s("div",Mt,[l(i),l(h)])],64)}const Pt=y(Ct,[["render",Ot]]);export{Pt as default};
