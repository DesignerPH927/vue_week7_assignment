import{_ as m,m as g,r as f,o as n,c as l,a as y,b as t,F as c,h as L,t as s,e as b,g as V}from"./index-23ac5f93.js";import{s as _}from"./statusStore-19b35a70.js";const d=_(),{VITE_URL:u,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"zack_p",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{color:"purple",loader:"dots",order:{user:{}},id:""}},computed:{...g(_,["isLoading"])},methods:{getOrder(){d.isLoading=!0,this.$http.get(`${u}/api/${h}/order/${this.id}`).then(o=>{d.isLoading=!1,this.order=o.data.order}).catch(o=>{d.isLoading=!1,alert(o.response.data.message)})},confirmPay(){d.isLoading=!0,this.$http.post(`${u}/api/${h}/pay/${this.id}`).then(o=>{d.isLoading=!1,this.getOrder()}).catch(o=>{d.isLoading=!1,alert(o.response.data.message)})}},mounted(){this.id=this.$route.params.checkPaidId,this.getOrder()}},v={class:"mt-5"},x={class:"row justify-content-center"},E={class:"col-md-6"},P={class:"table align-middle mb-3"},w=t("thead",null,[t("tr",null,[t("th",null,"品名"),t("th",{width:"150"},"數量"),t("th",{width:"150"},"單價")])],-1),T={class:"text-end"},O=t("td",{colspan:"2",class:"text-end"},"總計",-1),B={colspan:"2",class:"text-end"},C={class:"table align-middle"},D=t("th",{width:"150"},"Email",-1),R=t("th",null,"姓名",-1),S=t("th",null,"收件人電話",-1),U=t("th",null,"收件人地址",-1),A=t("th",null,"付款狀態",-1),N={key:0,class:"text-success"},F={key:1,class:"text-danger"},H={key:0,class:"mb-3 text-end"};function M(o,i,j,q,e,a){const p=f("VueLoading");return n(),l(c,null,[y(p,{active:o.isLoading,color:e.color,loader:e.loader},null,8,["active","color","loader"]),t("div",v,[t("div",x,[t("div",E,[t("table",P,[w,t("tbody",null,[(n(!0),l(c,null,L(e.order.products,r=>(n(),l("tr",{key:r.id},[t("td",null,s(r.product.title),1),t("td",null,s(r.qty)+" / "+s(r.product.unit),1),t("td",T,s(r.total),1)]))),128)),t("tr",null,[O,t("td",B,s(e.order.total),1)])])]),t("table",C,[t("tbody",null,[t("tr",null,[D,t("td",null,s(e.order.user.email),1)]),t("tr",null,[R,t("td",null,s(e.order.user.name),1)]),t("tr",null,[S,t("td",null,s(e.order.user.tel),1)]),t("tr",null,[U,t("td",null,s(e.order.user.address),1)]),t("tr",null,[A,t("td",null,[e.order.is_paid?(n(),l("span",N,"已付款")):(n(),l("span",F,"未付款"))])])])]),e.order.is_paid?V("",!0):(n(),l("div",H,[t("button",{class:"btn btn-danger",type:"button",onClick:i[0]||(i[0]=b((...r)=>a.confirmPay&&a.confirmPay(...r),["prevent"]))},"確認付款去")]))])])])],64)}const $=m(k,[["render",M]]);export{$ as default};
