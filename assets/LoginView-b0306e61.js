import{_ as h,r as i,o as g,c as b,a as o,w as m,b as s,F as v,n as _}from"./index-23ac5f93.js";const V="/assets/logo-rgb-dc564dbe.png";const{VITE_URL:w}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"zack_p",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{login(){this.isLoading=!0,this.$http.post(`${w}/admin/signin`,this.user).then(a=>{if(a.data.success){const{token:e,expired:l}=a.data;document.cookie=`zack0313=${e}; expires=${new Date(l)};`,this.isLoading=!1,this.$router.push("/admin/products")}}).catch(a=>{alert(a.response.data.message),this.$router.push("/"),this.isLoading=!1})}}},E=s("img",{src:V,alt:"",class:"logo animate__animated animate__flip"},null,-1),x={class:"container"},k={class:"row justify-content-center"},y=s("div",{class:"mb-3 mt-5"},[s("div",{class:"fs-3 fw-bold"},"請先登入")],-1),F={class:"mb-3"},U={class:"form-floating"},B=s("label",{for:"email",class:"form-label"},"Email address",-1),D={class:"mb-3"},R={class:"form-floating"},T=s("label",{for:"password",class:"form-label"},"Email Password",-1),$=s("div",{class:"mb-3 text-end"},[s("button",{class:"btn btn-primary btn-lg",type:"submit"},"登入")],-1);function z(a,e,l,C,t,u){const p=i("VueLoading"),r=i("VueField"),d=i("error-message"),f=i("VueForm");return g(),b(v,null,[o(p,{active:t.isLoading},{default:m(()=>[E]),_:1},8,["active"]),s("div",x,[s("div",k,[o(f,{class:"col-md-4",onSubmit:u.login},{default:m(({errors:c})=>[y,s("div",F,[s("div",U,[o(r,{id:"email",name:"email",type:"email",class:_(["form-control",{"is-invalid":c.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:t.user.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.user.username=n)},null,8,["class","modelValue"]),o(d,{name:"email",class:"invalid-feedback"}),B])]),s("div",D,[s("div",R,[o(r,{id:"password",name:"password",type:"password",class:_(["form-control",{"is-invalid":c.password}]),placeholder:"請輸入 password",rules:"required",modelValue:t.user.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.user.password=n)},null,8,["class","modelValue"]),o(d,{name:"password",class:"invalid-feedback"}),T])]),$]),_:1},8,["onSubmit"])])])],64)}const P=h(L,[["render",z]]);export{P as default};
